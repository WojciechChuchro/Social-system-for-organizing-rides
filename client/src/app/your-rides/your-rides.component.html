<mat-card *ngIf="rides.length === 0">
    <mat-card-content>
        No rides found.
    </mat-card-content>
</mat-card>

<mat-card *ngIf="rides.length != 0">
    <mat-card-content>
        Ride where you are a driver
    </mat-card-content>
</mat-card>
<mat-card *ngFor="let ride of rides">
    <mat-card-content>
        <div class="ride-detail">
            <h3><strong>Departure Date:</strong></h3>
            <p>{{ ride.earliestDepartureDate }} - {{ ride.latestDepartureDate }}</p>
        </div>
        <div class="ride-detail">
            <h3><strong>Departure Time:</strong></h3>
            <p>{{ ride.earliestDepartureTime }} - {{ ride.latestDepartureTime }}</p>
        </div>
        <div class="ride-detail">
            <h3><strong>Ride Duration:</strong></h3>
            <p>Ride will take: {{ ride.duration }}</p>
        </div>
        <div *ngIf="ride.userRides && ride.userRides.length > 0" class="users-in-ride">

            <!-- Section for accepted passengers -->
            <h4><strong>Passengers Who Drive:</strong></h4>
            <div *ngFor="let userRide of ride.userRides">
                <div class="user-detail" *ngIf="userRide.status.isAccepted === 1">
                    <p>{{ userRide.user.name }} {{ userRide.user.surname }}</p>
                    <button mat-button color="warn" (click)="deleteUser(userRide.statusId)">Delete</button>

                </div>
            </div>

            <!-- Section for waiting passengers -->
            <h4><strong>Waiting:</strong></h4>
            <div *ngFor="let userRide of ride.userRides">
                <div class="user-detail" *ngIf="userRide.status.isAccepted === 0">
                    <p>{{ userRide.user.name }} {{ userRide.user.surname }}</p>
                    <button mat-button color="accent" (click)="acceptUser(userRide.statusId)">Accept</button>

                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>

<!-- Display a card when there are passenger rides -->
<mat-card *ngIf="ridesPassangers.length != 0">
    <mat-card-content>
        Ride where you are a passenger
    </mat-card-content>
</mat-card>

<!-- Loop through the array of passenger rides -->
<mat-card *ngFor="let userRide of ridesPassangers">
    <mat-card-content>
        <!-- Display departure information -->
        <div class="ridesPassanger-detail">
            <h3><strong>Departure Date:</strong></h3>
            <p>{{ userRide.ride.earliestDepartureTime }}
                - {{ userRide.ride.latestDepartureTime }}</p>
        </div>
        <div class="ridesPassanger-detail">
            <h3><strong>Departure Time:</strong></h3>
            <p>{{ userRide.ride.earliestDepartureTime }}
                - {{ userRide.ride.latestDepartureTime }}</p>
        </div>
        <!-- Display other ride information (this would need to be calculated on the component side) -->
        <div class="ridesPassanger-detail">
            <h3><strong>Ride Duration:</strong></h3>
            <p>Ride will take: {{ userRide.ride.duration }}</p>
        </div>
        <!-- Display passenger and driver information -->
        <h4><strong>Driver:</strong></h4>
        <div class="user-detail">
            <p>{{ userRide.user.name }} {{ userRide.user.surname }}</p>
        </div>
        <!-- You can add other sections based on the userRide object structure -->
    </mat-card-content>
</mat-card>

